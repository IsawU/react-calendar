import{j as J,r as N,R as ue,a as ve}from"./vendor.3b380fbd.js";const me=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=i(o);fetch(o.href,a)}};me();const he="_contentStrip_1j4sn_1",fe="_controls_1j4sn_6",ge="_now_1j4sn_10",ye="_month_1j4sn_16",_e="_year_1j4sn_21";var I={contentStrip:he,controls:fe,now:ge,month:ye,year:_e};const be="_calendar_v9ajb_1",we="_header_v9ajb_13";var ee={calendar:be,header:we};const De="_day_1lh6t_1",Ne="_data_1lh6t_9",Ce="_inactive_1lh6t_16",ke="_weekend_1lh6t_24",Se="_today_1lh6t_28",Ee="_header_1lh6t_32",$e="_title_1lh6t_46";var E={day:De,data:Ne,inactive:Ce,weekend:ke,today:Se,header:Ee,title:$e};const xe="_item_ipbe5_1",Me="_empty_ipbe5_14",Te="_more_ipbe5_18",Fe="_event_ipbe5_23",Pe="_big_ipbe5_27";var k={item:xe,empty:Me,more:Te,event:Fe,big:Pe};function oe(e){return e.toLocaleDateString(navigator.language,{weekday:"short"})}function je(e){return e.toLocaleDateString(navigator.language,{weekday:"long",day:"numeric",month:"long"})}function Ie(e){return e.toLocaleDateString(navigator.language,{month:"long"})}function Be(e){return e.toLocaleDateString(navigator.language)}function Le(e){return e.toLocaleDateString(navigator.language,{year:"numeric"})}function L(e){const n=new Date(e.getTime());return n.setMinutes(e.getMinutes()-e.getTimezoneOffset()),n.toISOString().slice(0,16)}function V(e,n){return e.getFullYear()==n.getFullYear()&&e.getMonth()==n.getMonth()&&e.getDate()==n.getDate()}function ae(e,n,i){return n<=e&&i>=e||V(e,n)||V(e,i)}function te(e,n){if(V(e,n)){const i=n.getHours().toString().padStart(2,"0"),r=n.getMinutes().toString().padStart(2,"0");return`${i}:${r}`}else return n.toLocaleDateString(navigator.language)}function ie(e,n){return e<n?-1:e>n?1:0}let ne=0;function ce(e,n,i,r){return ne+=1,{uuid:ne,name:e,from:n,to:i,color:r}}function O(){return"#add8e6"}function Re(e){if(e.startsWith("#")){if(e.length==4){const n=e.substring(1,2),i=e.substring(2,3),r=e.substring(3,4),o=parseInt(n,16)*17,a=parseInt(i,16)*17,d=parseInt(r,16)*17;return{r:o,g:a,b:d}}else if(e.length==7){const n=e.substring(1,3),i=e.substring(3,5),r=e.substring(5,7),o=parseInt(n,16),a=parseInt(i,16),d=parseInt(r,16);return{r:o,g:a,b:d}}}return{r:173,g:216,b:230}}function C(e){const n=Re(e),i=(n.r*299+n.g*587+n.b*114)/1e3;return isFinite(i)?i>125?"black":"white":"black"}const t=J.exports.jsx,u=J.exports.jsxs,$=J.exports.Fragment;function se(e){const n=e.event.name,i=e.event.color,r=i!=null?i:O(),o=C(r),a=d=>{d.stopPropagation(),e.onClick()};if(e.day!==void 0){const d=e.day!==void 0?te(e.day,e.event.from):"",s=e.day!==void 0?te(e.day,e.event.to):"",l=e.day!==void 0?u("div",{children:[d," - ",s]}):t($,{});return u("div",{className:`${k.big} ${k.event}`,style:{backgroundColor:r,color:o},onClick:a,children:[t("b",{children:n}),"\xA0",t("small",{children:l})]})}else return u("div",{className:`${k.item} ${k.event}`,style:{backgroundColor:r,color:o},onClick:a,children:[n,"\xA0"]})}function Ve(e){var l;const n=e.date.getDay()==0||e.date.getDay()==6,i=e.date!==void 0&&e.month!==void 0?e.date.getMonth()!=e.month.getMonth():!1,r=e.today!==void 0?V(e.date,e.today):!1,o=c=>{c.stopPropagation(),e.viewDay!==void 0&&e.viewDay(e.date)},a=(l=e.events)==null?void 0:l.filter(c=>ae(e.date,c.from,c.to)).sort((c,g)=>ie(c.from,g.from)),d=a!==void 0?a.length:0,s=[];for(let c=0;c<5;++c)if(c>=d||a===void 0)s.push(t("div",{className:`${k.item} ${k.empty}`,children:"Hic sunt leones\u2026"},`empty${c}`));else if(c==4&&d>5){const g=d-4;s.push(u("div",{className:`${k.item} ${k.more}`,onClick:o,children:["+ ",g," more event",g>1?"s":""]},"more"))}else s.push(t(se,{event:a[c],onClick:()=>{e.editEvent!==void 0&&e.editEvent(a[c])}},a[c].uuid));return u("div",{className:`${E.day} ${n?E.weekend:""} ${i?E.inactive:""} ${r?E.today:""}`,children:[t("div",{className:E.header,children:oe(e.date)}),u("div",{className:E.data,onClick:o,children:[t("div",{className:E.title,children:e.date.getDate()}),s]})]})}function Ae(e){const n=new Date(e.month),i=e.today!==void 0?new Date(e.today):void 0;n.setDate(1);const r=n.getDay(),o=2-(r>0?r:7),a=[];for(let l=o;l<o+42;++l){const c=new Date(e.month);c.setDate(l),a.push(t(Ve,{date:c,month:n,today:i,events:e.events,editEvent:e.editEvent,viewDay:e.viewDay},Be(c)))}const d=[],s=new Date(0);for(let l=5;l<12;++l){s.setDate(l);const c=oe(s);d.push(t("div",{className:ee.header,children:c},c))}return u("div",{className:ee.calendar,children:[d,a]})}const Oe="_backdrop_ncuse_1",We="_contentStrip_ncuse_16",He="_modal_ncuse_22";var z={backdrop:Oe,contentStrip:We,modal:He};let R=!1;function A(e){if(e&&R)R=!1,document.body.style.paddingRight="0",document.body.style.overflow="auto";else if(!R){R=!0;const n=window.innerWidth-document.body.clientWidth+"px";document.body.style.paddingRight=n,document.body.style.overflow="hidden"}}function U(e){return t("div",{className:z.backdrop,children:t("div",{className:z.contentStrip,children:t("div",{className:z.modal,children:e.children})})})}const Ye="_header_wwkue_1",Ke="_title_wwkue_10",qe="_controls_wwkue_16",ze="_container_wwkue_20",Ge="_label_wwkue_24",Ue="_data_wwkue_28";var h={header:Ye,title:Ke,controls:qe,container:ze,label:Ge,data:Ue};function w(e,n){return{value:e,valid:n}}function G(e){return e.valid?"":"invalidInput"}function Je(e){return e.data!==void 0?Qe(e.data):t($,{})}function Qe(e){var Q,X;const n=(Q=e.new)!=null?Q:!1,i=(X=e.event.color)!=null?X:O(),[r,o]=N.exports.useState(n),a=L(e.event.from),d=L(e.event.to),s=j(a,d),[l,c]=N.exports.useState(w(e.event.name,B(e.event.name))),[g,x]=N.exports.useState(w(a,s.from)),[D,M]=N.exports.useState(w(d,s.to)),[f,P]=N.exports.useState(i);A(!1);function T(){A(!0),e.close()}function B(m){return m.trim().length>0}function j(m,b){let _=!0,S=!0;const Z=Date.parse(m),p=Date.parse(b);if(isFinite(Z)||(_=!1),isFinite(p)||(S=!1),_&&S){const de=new Date(Z);new Date(p)<de&&(_=!1,S=!1)}return{from:_,to:S}}const W=m=>{if(m.stopPropagation(),l.valid&&g.valid&&D.valid){const b=Date.parse(g.value),_=Date.parse(D.value);if(isFinite(b)&&isFinite(_)){const S=f.trim();e.event.name=l.value.trim(),e.event.from=new Date(b),e.event.to=new Date(_),e.event.color=S.length>0?S:void 0,e.save(e.event),e.new=!1,o(!1);return}}alert("Invalid input.")},H=m=>{var _;m.stopPropagation();const b=(_=e.new)!=null?_:!1;confirm("Cancel?")&&(b?T():(c(w(e.event.name,!0)),x(w(L(e.event.from),!0)),M(w(L(e.event.to),!0)),P(i),o(!1)))},Y=m=>{m.stopPropagation(),confirm("Remove?")&&(e.remove(e.event),T())},K=m=>{m.stopPropagation(),o(!0)},v=m=>{m.stopPropagation(),T()},y=m=>{const b=m.target.value;c(w(b,B(b)))},q=m=>{const b=m.target.value,_=j(b,D.value);x(w(b,_.from)),M(w(D.value,_.to))},re=m=>{const b=m.target.value,_=j(g.value,b);M(w(b,_.to)),x(w(g.value,_.from))},le=m=>{P(m.target.value)};return r?t(U,{children:u($,{children:[u("div",{className:h.header,style:{color:C(f),backgroundColor:f},children:[t("div",{className:h.title,children:t("input",{type:"text",className:G(l),value:l.value,onChange:y,placeholder:"Event name"})}),u("div",{className:h.controls,children:[t("button",{className:h.headerButton,style:{color:f,backgroundColor:C(f)},onClick:W,children:"Save"}),t("button",{className:h.headerButton,style:{color:f,backgroundColor:C(f)},onClick:H,children:"Cancel"})]})]}),u("div",{className:h.container,children:[u("label",{className:h.label,children:["From:",t("input",{type:"datetime-local",className:G(g),value:g.value,onChange:q})]}),u("label",{className:h.label,children:["To:",t("input",{type:"datetime-local",className:G(D),value:D.value,onChange:re})]}),u("label",{className:h.label,children:["Color:",t("br",{}),t("input",{type:"color",value:f,onChange:le,style:{width:"3em",height:"3em",padding:"4px"}})]})]})]})}):t(U,{children:u($,{children:[u("div",{className:h.header,style:{color:C(f),backgroundColor:f},children:[u("div",{className:h.title,children:[l.value,t("br",{}),t("small",{children:e.event.uuid})]}),u("div",{className:h.controls,children:[t("button",{className:h.headerButton,style:{color:f,backgroundColor:C(f)},onClick:Y,children:"Delete"}),t("button",{className:h.headerButton,style:{color:f,backgroundColor:C(f)},onClick:K,children:"Edit"}),t("button",{className:h.headerButton,style:{color:f,backgroundColor:C(f)},onClick:v,children:"\xD7"})]})]}),u("div",{className:h.container,children:[t("div",{className:h.label,children:"From:"}),t("div",{className:h.data,children:g.value}),t("div",{className:h.label,children:"To:"}),t("div",{className:h.data,children:D.value})]})]})})}const Xe="_header_17h0g_1",Ze="_title_17h0g_12",pe="_controls_17h0g_19",et="_headerButton_17h0g_23",tt="_container_17h0g_28";var F={header:Xe,title:Ze,controls:pe,headerButton:et,container:tt};function nt(e){return e.data!==void 0?ot(e.data):t($,{})}function ot(e){var d;const n=je(e.date);A(!1);const i=s=>{s.stopPropagation();const l=new Date(e.date);l.setHours(12),l.setMinutes(0);const c=new Date(l),g=ce("",l,c,O());e.addEvent(g)},r=s=>{s.stopPropagation(),A(!0),e.close()},o=(d=e.events)==null?void 0:d.filter(s=>ae(e.date,s.from,s.to)).sort((s,l)=>ie(s.from,l.from)),a=o==null?void 0:o.map(s=>t(se,{event:s,day:e.date,onClick:()=>{e.editEvent!==void 0&&e.editEvent(s)}},s.uuid));return t(U,{children:u($,{children:[u("div",{className:F.header,children:[t("div",{className:F.title,children:n}),u("div",{className:F.controls,children:[t("button",{className:F.headerButton,onClick:i,children:"Add"}),t("button",{className:F.headerButton,onClick:r,children:"\xD7"})]})]}),t("div",{className:F.container,children:a})]})})}function at(){const[e,n]=N.exports.useState(new Date),[i,r]=N.exports.useState(new Date),[o,a]=N.exports.useState([]),[d,s]=N.exports.useState(void 0),[l,c]=N.exports.useState(void 0);function g(){const v=new Date(e);r(v)}function x(v){o.filter(y=>y.uuid==v.uuid).length==0&&(o.push(v),a(o))}function D(v){s({event:v,new:!0,save:x,remove:f,close:P})}function M(v){s({event:v,save:x,remove:f,close:P})}function f(v){const y=o.indexOf(v);delete o[y],a(o)}function P(){s(void 0)}function T(v){c({date:v,events:o,close:B,addEvent:D,editEvent:M})}function B(){c(void 0)}const j=v=>{v.stopPropagation();const y=new Date(i);y.setDate(0),r(y)},W=v=>{v.stopPropagation();const y=new Date(i);y.setDate(32),r(y)},H=v=>{v.stopPropagation(),g()},Y=v=>{v.stopPropagation(),g(),T(e)},K=v=>{v.stopPropagation();const y=new Date(e);y.setHours(12),y.setMinutes(0);const q=new Date(y);D(ce("",y,q,O()))};return u($,{children:[u("div",{className:I.contentStrip,children:[u("div",{className:I.controls,children:[t("button",{onClick:j,children:"<"}),u("div",{className:I.now,children:[t("div",{className:I.month,children:Ie(i)}),t("div",{className:I.year,children:Le(i)})]}),t("button",{onClick:W,children:">"}),t("button",{onClick:H,children:"Current month"}),t("button",{onClick:Y,children:"Today"}),t("button",{onClick:K,children:"Add event"})]}),t(Ae,{today:e,month:i,events:o,editEvent:M,viewDay:T})]}),t(nt,{data:l}),t(Je,{data:d})]})}ue.render(t(ve.StrictMode,{children:t(at,{})}),document.getElementById("root"));
