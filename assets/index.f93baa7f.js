import{j as J,r as w,R as le,a as de}from"./vendor.5cff09c3.js";const ue=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))d(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&d(r)}).observe(document,{childList:!0,subtree:!0});function i(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function d(o){if(o.ep)return;o.ep=!0;const a=i(o);fetch(o.href,a)}};ue();const ve="_contentStrip_1j4sn_1",me="_controls_1j4sn_6",he="_now_1j4sn_10",fe="_month_1j4sn_16",ge="_year_1j4sn_21";var R={contentStrip:ve,controls:me,now:he,month:fe,year:ge};const ye="_calendar_v9ajb_1",_e="_header_v9ajb_13";var ee={calendar:ye,header:_e};const be="_day_1lh6t_1",De="_data_1lh6t_9",we="_inactive_1lh6t_16",Ne="_weekend_1lh6t_24",Ce="_today_1lh6t_28",ke="_header_1lh6t_32",Se="_title_1lh6t_46";var E={day:be,data:De,inactive:we,weekend:Ne,today:Ce,header:ke,title:Se};const Ee="_item_ipbe5_1",$e="_empty_ipbe5_14",xe="_more_ipbe5_18",Me="_event_ipbe5_23",Pe="_big_ipbe5_27";var k={item:Ee,empty:$e,more:xe,event:Me,big:Pe};function oe(e){return e.toLocaleDateString(navigator.language,{weekday:"short"})}function Te(e){return e.toLocaleDateString(navigator.language,{weekday:"long",day:"numeric",month:"long"})}function Fe(e){return e.toLocaleDateString(navigator.language,{month:"long"})}function Le(e){return e.toLocaleDateString(navigator.language)}function Re(e){return e.toLocaleDateString(navigator.language,{year:"numeric"})}function N(e){return e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1})}function B(e,n){return e.getFullYear()==n.getFullYear()&&e.getMonth()==n.getMonth()&&e.getDate()==n.getDate()}function ae(e,n,i){return n<=e&&i>=e||B(e,n)||B(e,i)}function te(e,n){if(B(e,n)){const i=n.getHours().toString().padStart(2,"0"),d=n.getMinutes().toString().padStart(2,"0");return`${i}:${d}`}else return n.toLocaleDateString(navigator.language)}function ie(e,n){return e<n?-1:e>n?1:0}let ne=0;function ce(e,n,i,d){return ne+=1,{uuid:ne,name:e,from:n,to:i,color:d}}function V(){return"#add8e6"}function je(e){if(e.startsWith("#")){if(e.length==4){const n=e.substring(1,2),i=e.substring(2,3),d=e.substring(3,4),o=parseInt(n,16)*17,a=parseInt(i,16)*17,r=parseInt(d,16)*17;return{r:o,g:a,b:r}}else if(e.length==7){const n=e.substring(1,3),i=e.substring(3,5),d=e.substring(5,7),o=parseInt(n,16),a=parseInt(i,16),r=parseInt(d,16);return{r:o,g:a,b:r}}}return{r:173,g:216,b:230}}function C(e){const n=je(e),i=(n.r*299+n.g*587+n.b*114)/1e3;return isFinite(i)?i>125?"black":"white":"black"}const t=J.exports.jsx,u=J.exports.jsxs,$=J.exports.Fragment;function re(e){const n=e.event.name,i=e.event.color,d=i!=null?i:V(),o=C(d),a=r=>{r.stopPropagation(),e.onClick()};if(e.day!==void 0){const r=e.day!==void 0?te(e.day,e.event.from):"",s=e.day!==void 0?te(e.day,e.event.to):"",l=e.day!==void 0?u("div",{children:[r," - ",s]}):t($,{});return u("div",{className:`${k.big} ${k.event}`,style:{backgroundColor:d,color:o},onClick:a,children:[t("b",{children:n}),"\xA0",t("small",{children:l})]})}else return u("div",{className:`${k.item} ${k.event}`,style:{backgroundColor:d,color:o},onClick:a,children:[n,"\xA0"]})}function Be(e){var l;const n=e.date.getDay()==0||e.date.getDay()==6,i=e.date!==void 0&&e.month!==void 0?e.date.getMonth()!=e.month.getMonth():!1,d=e.today!==void 0?B(e.date,e.today):!1,o=c=>{c.stopPropagation(),e.viewDay!==void 0&&e.viewDay(e.date)},a=(l=e.events)==null?void 0:l.filter(c=>ae(e.date,c.from,c.to)).sort((c,g)=>ie(c.from,g.from)),r=a!==void 0?a.length:0,s=[];for(let c=0;c<5;++c)if(c>=r||a===void 0)s.push(t("div",{className:`${k.item} ${k.empty}`,children:"Hic sunt leones\u2026"},`empty${c}`));else if(c==4&&r>5){const g=r-4;s.push(u("div",{className:`${k.item} ${k.more}`,onClick:o,children:["+ ",g," more event",g>1?"s":""]},"more"))}else s.push(t(re,{event:a[c],onClick:()=>{e.editEvent!==void 0&&e.editEvent(a[c])}},a[c].uuid));return u("div",{className:`${E.day} ${n?E.weekend:""} ${i?E.inactive:""} ${d?E.today:""}`,children:[t("div",{className:E.header,children:oe(e.date)}),u("div",{className:E.data,onClick:o,children:[t("div",{className:E.title,children:e.date.getDate()}),s]})]})}function Ie(e){const n=new Date(e.month),i=e.today!==void 0?new Date(e.today):void 0;n.setDate(1);const d=n.getDay(),o=2-(d>0?d:7),a=[];for(let l=o;l<o+42;++l){const c=new Date(e.month);c.setDate(l),a.push(t(Be,{date:c,month:n,today:i,events:e.events,editEvent:e.editEvent,viewDay:e.viewDay},Le(c)))}const r=[],s=new Date(0);for(let l=5;l<12;++l){s.setDate(l);const c=oe(s);r.push(t("div",{className:ee.header,children:c},c))}return u("div",{className:ee.calendar,children:[r,a]})}const Ve="_backdrop_ncuse_1",Ae="_contentStrip_ncuse_16",He="_modal_ncuse_22";var q={backdrop:Ve,contentStrip:Ae,modal:He};let j=!1;function I(e){if(e&&j)j=!1,document.body.style.paddingRight="0",document.body.style.overflow="auto";else if(!j){j=!0;const n=window.innerWidth-document.body.clientWidth+"px";document.body.style.paddingRight=n,document.body.style.overflow="hidden"}}function z(e){return t("div",{className:q.backdrop,children:t("div",{className:q.contentStrip,children:t("div",{className:q.modal,children:e.children})})})}const We="_header_wwkue_1",Oe="_title_wwkue_10",Ye="_controls_wwkue_16",Ke="_container_wwkue_20",Ue="_label_wwkue_24",qe="_data_wwkue_28";var h={header:We,title:Oe,controls:Ye,container:Ke,label:Ue,data:qe};function D(e,n){return{value:e,valid:n}}function G(e){return e.valid?"":"invalidInput"}function Ge(e){return e.data!==void 0?ze(e.data):t($,{})}function ze(e){var Q,X;const n=(Q=e.new)!=null?Q:!1,i=(X=e.event.color)!=null?X:V(),[d,o]=w.exports.useState(n),a=P(N(e.event.from),N(e.event.to)),[r,s]=w.exports.useState(D(e.event.name,L(e.event.name))),[l,c]=w.exports.useState(D(N(e.event.from),a.from)),[g,x]=w.exports.useState(D(N(e.event.to),a.to)),[f,F]=w.exports.useState(i);I(!1);function M(){I(!0),e.close()}function L(m){return m.trim().length>0}function P(m,b){let _=!0,S=!0;const Z=Date.parse(m),p=Date.parse(b);if(isFinite(Z)||(_=!1),isFinite(p)||(S=!1),_&&S){const se=new Date(Z);new Date(p)<se&&(_=!1,S=!1)}return{from:_,to:S}}const A=m=>{if(m.stopPropagation(),r.valid&&l.valid&&g.valid){const b=Date.parse(l.value),_=Date.parse(g.value);if(isFinite(b)&&isFinite(_)){const S=f.trim();e.event.name=r.value.trim(),e.event.from=new Date(b),e.event.to=new Date(_),e.event.color=S.length>0?S:void 0,e.save(e.event),e.new=!1,o(!1);return}}alert("Invalid input.")},H=m=>{var _;m.stopPropagation();const b=(_=e.new)!=null?_:!1;confirm("Cancel?")&&(b?M():(s(D(e.event.name,!0)),c(D(N(e.event.from),!0)),x(D(N(e.event.to),!0)),F(i),o(!1)))},W=m=>{m.stopPropagation(),confirm("Remove?")&&(e.remove(e.event),M())},O=m=>{m.stopPropagation(),o(!0)},Y=m=>{m.stopPropagation(),M()},K=m=>{const b=m.target.value;s(D(b,L(b)))},v=m=>{const b=m.target.value,_=P(b,g.value);c(D(b,_.from)),x(D(g.value,_.to))},y=m=>{const b=m.target.value,_=P(l.value,b);x(D(b,_.to)),c(D(l.value,_.from))},U=m=>{F(m.target.value)};return d?t(z,{children:u($,{children:[u("div",{className:h.header,style:{color:C(f),backgroundColor:f},children:[t("div",{className:h.title,children:t("input",{type:"text",className:G(r),value:r.value,onChange:K,placeholder:"Event name"})}),u("div",{className:h.controls,children:[t("button",{className:h.headerButton,style:{color:f,backgroundColor:C(f)},onClick:A,children:"Save"}),t("button",{className:h.headerButton,style:{color:f,backgroundColor:C(f)},onClick:H,children:"Cancel"})]})]}),u("div",{className:h.container,children:[u("label",{className:h.label,children:["From:",t("input",{type:"text",className:G(l),value:l.value,onChange:v,placeholder:N(e.event.from)})]}),u("label",{className:h.label,children:["To:",t("input",{type:"text",className:G(g),value:g.value,onChange:y,placeholder:N(e.event.to)})]}),u("label",{className:h.label,children:["Color:",t("input",{type:"text",value:f,onChange:U,placeholder:"#000000 format color"})]})]})]})}):t(z,{children:u($,{children:[u("div",{className:h.header,style:{color:C(f),backgroundColor:f},children:[u("div",{className:h.title,children:[r.value,t("br",{}),t("small",{children:e.event.uuid})]}),u("div",{className:h.controls,children:[t("button",{className:h.headerButton,style:{color:f,backgroundColor:C(f)},onClick:W,children:"Delete"}),t("button",{className:h.headerButton,style:{color:f,backgroundColor:C(f)},onClick:O,children:"Edit"}),t("button",{className:h.headerButton,style:{color:f,backgroundColor:C(f)},onClick:Y,children:"\xD7"})]})]}),u("div",{className:h.container,children:[t("div",{className:h.label,children:"From:"}),t("div",{className:h.data,children:l.value}),t("div",{className:h.label,children:"To:"}),t("div",{className:h.data,children:g.value})]})]})})}const Je="_header_17h0g_1",Qe="_title_17h0g_12",Xe="_controls_17h0g_19",Ze="_headerButton_17h0g_23",pe="_container_17h0g_28";var T={header:Je,title:Qe,controls:Xe,headerButton:Ze,container:pe};function et(e){return e.data!==void 0?tt(e.data):t($,{})}function tt(e){var r;const n=Te(e.date);I(!1);const i=s=>{s.stopPropagation();const l=new Date(e.date);l.setHours(12),l.setMinutes(0);const c=new Date(l),g=ce("",l,c,V());e.addEvent(g)},d=s=>{s.stopPropagation(),I(!0),e.close()},o=(r=e.events)==null?void 0:r.filter(s=>ae(e.date,s.from,s.to)).sort((s,l)=>ie(s.from,l.from)),a=o==null?void 0:o.map(s=>t(re,{event:s,day:e.date,onClick:()=>{e.editEvent!==void 0&&e.editEvent(s)}},s.uuid));return t(z,{children:u($,{children:[u("div",{className:T.header,children:[t("div",{className:T.title,children:n}),u("div",{className:T.controls,children:[t("button",{className:T.headerButton,onClick:i,children:"Add"}),t("button",{className:T.headerButton,onClick:d,children:"\xD7"})]})]}),t("div",{className:T.container,children:a})]})})}function nt(){const[e,n]=w.exports.useState(new Date),[i,d]=w.exports.useState(new Date),[o,a]=w.exports.useState([]),[r,s]=w.exports.useState(void 0),[l,c]=w.exports.useState(void 0);function g(){const v=new Date(e);d(v)}function x(v){o.filter(y=>y.uuid==v.uuid).length==0&&(o.push(v),a(o))}function f(v){s({event:v,new:!0,save:x,remove:M,close:L})}function F(v){s({event:v,save:x,remove:M,close:L})}function M(v){const y=o.indexOf(v);delete o[y],a(o)}function L(){s(void 0)}function P(v){c({date:v,events:o,close:A,addEvent:f,editEvent:F})}function A(){c(void 0)}const H=v=>{v.stopPropagation();const y=new Date(i);y.setDate(0),d(y)},W=v=>{v.stopPropagation();const y=new Date(i);y.setDate(32),d(y)},O=v=>{v.stopPropagation(),g()},Y=v=>{v.stopPropagation(),g(),P(e)},K=v=>{v.stopPropagation();const y=new Date(e);y.setHours(12),y.setMinutes(0);const U=new Date(y);f(ce("",y,U,V()))};return u($,{children:[u("div",{className:R.contentStrip,children:[u("div",{className:R.controls,children:[t("button",{onClick:H,children:"<"}),u("div",{className:R.now,children:[t("div",{className:R.month,children:Fe(i)}),t("div",{className:R.year,children:Re(i)})]}),t("button",{onClick:W,children:">"}),t("button",{onClick:O,children:"Current month"}),t("button",{onClick:Y,children:"Today"}),t("button",{onClick:K,children:"Add event"})]}),t(Ie,{today:e,month:i,events:o,editEvent:F,viewDay:P})]}),t(et,{data:l}),t(Ge,{data:r})]})}le.render(t(de.StrictMode,{children:t(nt,{})}),document.getElementById("root"));
